(this["webpackJsonpweb-project"]=this["webpackJsonpweb-project"]||[]).push([[0],{121:function(e,t,a){e.exports=a(153)},126:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(76),a(54)),l=a(41),s=a(10),u=a(8),m=a(12),p=a(13),d=a(14),h=a(9),g=a(26),b=a(61),E=a(217),f=a(34),O=a(190),v=a(87),y=a.n(v),j=a(89),N=a.n(j),x=a(86),S=a.n(x),k=a(191),C=a(4),w=(a(126),a(15)),P=a(18),T=a.n(P),_=function(e){var t="Bearer ".concat(e);localStorage.setItem("JWTToken",t),T.a.defaults.headers.common.Authorization=t},I=function(e){localStorage.setItem("user",JSON.stringify(e))},D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={email:"",password:""},a.handleKeyChange=a.handleKeyChange.bind(Object(g.a)(a)),a.handleLogin=a.handleLogin.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleKeyChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"handleLogin",value:function(){var e={email:this.state.email,password:this.state.password};this.props.login(e,this.props.history)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.UI,o=n.loading,c=n.errors;return r.a.createElement(b.a,{className:a.form,elevation:4},r.a.createElement("div",{className:"flexContainer"},r.a.createElement(S.a,{className:a.forwardIcon}),r.a.createElement("h1",{className:"login"},"Login")),r.a.createElement("div",{className:"flexContainer"},r.a.createElement(y.a,null),r.a.createElement(E.a,{onChange:this.handleKeyChange,label:"Email",name:"email",helperText:c.email,error:!!c.email,className:a.input,disabled:o})),r.a.createElement("br",null),r.a.createElement("div",{className:"flexContainer"},r.a.createElement(N.a,null),r.a.createElement(E.a,{type:"password",onChange:this.handleKeyChange,label:"Password",name:"password",helperText:c.password,error:!!c.password,className:a.input,disabled:o})),c.general?r.a.createElement(f.a,{variant:"body2",className:a.generalError},c.general):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{color:"primary",variant:"contained",className:a.button,onClick:this.handleLogin,disabled:o},o?r.a.createElement(k.a,{size:24}):"Login"),r.a.createElement("div",{className:"ask"},"Not have an account yet ?",r.a.createElement(O.a,{className:a.signup,onClick:function(){return e.props.history.push("/signup")}},"Sign up")))}}]),t}(r.a.Component),A={login:function(e,t){return function(a){a({type:"LOADING_UI"}),T.a.post("/api/login",e).then((function(e){_(e.data.jwtToken),I(e.data.user),a({type:"SET_AUTHENTICATED"}),a({type:"STOP_LOADING_UI"}),t.push("/")})).catch((function(e){a({type:"SET_ERROR",payload:e.response.data})}))}}},U=Object(w.b)((function(e){return{UI:e.UI}}),A)(Object(C.a)({input:{"margin-left":"15px",width:"300px"},forwardIcon:{"font-size":"35px"},form:{display:"table",padding:"60px 60px 0px 60px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)"},button:{width:"346px","margin-bottom":"30px"},generalError:{color:"red","margin-top":"10px"},signup:{color:"blue"}})(D)),L=(a(149),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginPage"},r.a.createElement("img",{src:"/assets/icons/icon2.png",className:"connectIcon"}),r.a.createElement("div",{className:"name"},"WINDLIFE NETWORK"),r.a.createElement(U,{history:this.props.history}))}}]),t}(r.a.Component)),R=a(90),M=a.n(R),G=(a(150),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={email:"",username:"",password:"",confirmPassword:""},a.handleKeyChange=a.handleKeyChange.bind(Object(g.a)(a)),a.handleSignup=a.handleSignup.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleKeyChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"handleSignup",value:function(){var e={email:this.state.email,username:this.state.username,password:this.state.password,confirmPassword:this.state.confirmPassword};this.props.signup(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,c=a.message.message;return r.a.createElement(b.a,{className:t.form,elevation:6},r.a.createElement("div",{className:"flexContainer"},r.a.createElement(M.a,{className:t.personAddIcon}),r.a.createElement("h1",{className:"signup"},"Signup")),r.a.createElement(E.a,{onChange:this.handleKeyChange,label:"Email",name:"email",helperText:o.email,error:!!o.email,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(E.a,{onChange:this.handleKeyChange,label:"Username",name:"username",helperText:o.username,error:!!o.username,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(E.a,{type:"password",onChange:this.handleKeyChange,label:"Password",name:"password",helperText:o.password,error:!!o.password,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(E.a,{type:"password",onChange:this.handleKeyChange,label:"Repeat your password",name:"confirmPassword",helperText:o.confirmPassword,error:!!o.confirmPassword,className:t.input,disabled:n}),c?r.a.createElement(f.a,{variant:"body2",className:t.message},c):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"contained",className:t.button,onClick:this.handleSignup,disabled:n},n?r.a.createElement(k.a,{size:24}):"Sign up"))}}]),t}(r.a.Component)),B={signup:function(e){return function(t){t({type:"LOADING_UI"}),T.a.post("/api/signup",e).then((function(e){t({type:"SET_RESPONSE_MESSAGE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){t({type:"SET_ERROR",payload:e.response.data})}))}}},K=Object(w.b)((function(e){return{UI:e.UI}}),B)(Object(C.a)({input:{width:"300px","margin-top":"15px"},personAddIcon:{"font-size":"35px"},button:{width:"346px",color:"white","background-color":"lightskyblue","margin-bottom":"30px","&:hover":{"background-color":"royalblue"}},form:{display:"table",padding:"30px"},message:{color:"green","margin-top":"10px"}})(G)),z=(a(151),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"signupPage"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"description"},"Consectetur Lorem eiusmod nulla eu ea exercitation. Incididunt exercitation amet pariatur cupidatat ut. Eu excepteur cupidatat do aliquip. Et excepteur eu tempor sint veniam incididunt cillum adipisicing sunt duis ut. Dolore commodo dolor reprehenderit Lorem dolor dolor elit. Amet aute elit aliquip anim. Veniam dolore in dolor anim velit labore. Excepteur aute esse dolore enim enim pariatur officia non eu magna dolore mollit dolore. Labore id pariatur sit velit cillum nisi non do enim duis laborum. Tempor in sunt commodo in elit consectetur non nulla culpa aute. Qui laborum veniam elit qui incididunt id. Labore ea minim irure laborum eiusmod aute voluptate proident proident do. Eu voluptate adipisicing proident magna minim nisi laborum eiusmod minim duis elit cupidatat ullamco. Consectetur ullamco cupidatat nisi occaecat incididunt eu ea pariatur non mollit cillum ea. Sunt est sunt quis aliqua ea velit adipisicing aliqua. Occaecat ipsum fugiat fugiat velit non adipisicing magna cillum veniam ullamco."),r.a.createElement(K,null)))}}]),t}(r.a.Component)),H=a(199),W=a(200),F=a(201),J=a(202),V=a(70),q=a(198),Y=a(192),Q=a(103),$=a(193),X=a(48),Z=a.n(X),ee=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).openMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.closeMenu=function(t){e.setState({anchorEl:null})},e.state={anchorEl:null},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{onClick:this.openMenu},r.a.createElement(Z.a,null)),r.a.createElement(Q.a,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.closeMenu},r.a.createElement($.a,null,"Disable comments"),r.a.createElement($.a,null,"Disable sharing"),r.a.createElement($.a,null,"Logout")))}}]),t}(r.a.Component),te=a(2),ae=a(3),ne=a(91),re=a.n(ne),oe=a(93),ce=a.n(oe),ie=a(94),le=a.n(ie),se=a(95),ue=a.n(se),me=a(195),pe=a(196),de=a(219),he=a(197),ge=a(92),be=a.n(ge),Ee=a(194),fe={success:re.a,warning:be.a,error:ce.a,info:le.a},Oe=Object(Ee.a)((function(e){return{success:{backgroundColor:me.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:pe.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function ve(e){var t=Oe(),a=e.className,n=e.message,o=e.onClose,c=e.variant,i=Object(te.a)(e,["className","message","onClose","variant"]),l=fe[c];return r.a.createElement(he.a,Object.assign({className:Object(ae.a)(t[c],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:Object(ae.a)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(Y.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(ue.a,{className:t.icon}))]},i))}function ye(e){var t=e.open,a=e.handleClose;return r.a.createElement(de.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:a},e.message?r.a.createElement(ve,{onClose:a,variant:"success",message:e.message}):r.a.createElement(ve,{onClose:a,variant:"error",message:e.errors.message}))}var je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).openDialog=function(){a.setState({open:!0})},a.closeDialog=function(){a.setState({open:!1})},a.closeSnackBar=function(){a.setState({snackBarOpen:!1})},a.handleChange=function(e){a.setState({postContent:e.target.value})},a.handleUpload=function(){var e={content:a.state.postContent};a.props.uploadPost(e)},a.state={open:!1,postContent:"",snackBarOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){!1===e.UI.loading&&!0===this.props.UI.loading&&(this.closeDialog(),this.setState({snackBarOpen:!0}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,c=a.message.message;return r.a.createElement("div",null,r.a.createElement(V.a,{className:t.container,onClick:this.openDialog},r.a.createElement(q.a,{className:t.avatar},"R"),r.a.createElement(f.a,{className:t.placeHolder},"What are you thinking")),r.a.createElement(H.a,{open:this.state.open,onClose:this.closeDialog},r.a.createElement("div",{className:t.dialog},r.a.createElement(W.a,{id:"form-dialog-title"},r.a.createElement("div",{className:t.postHeader},r.a.createElement("div",{className:t.subHeader},r.a.createElement(q.a,{className:t.avatar},JSON.parse(localStorage.user).username[0].toUpperCase()),r.a.createElement("span",null,JSON.parse(localStorage.user).username)),r.a.createElement(ee,null))),r.a.createElement(F.a,{className:t.fieldContainer},r.a.createElement(E.a,{autoFocus:!0,className:t.postField,margin:"dense",placeholder:"What are you thinking",multiline:!0,rows:2,rowsMax:4,onChange:this.handleChange})),r.a.createElement(J.a,null,r.a.createElement(O.a,{onClick:this.closeDialog,color:"primary",disabled:n},"Cancel"),r.a.createElement(O.a,{onClick:this.handleUpload,color:"primary",disabled:n},n?r.a.createElement(k.a,{size:24}):"Post")))),r.a.createElement(ye,{errors:o,message:c,open:this.state.snackBarOpen,handleClose:this.closeSnackBar}))}}]),t}(r.a.Component),Ne={uploadPost:function(e){return function(t){t({type:"LOADING_UI"}),T.a.post("/api/newpost",e).then((function(e){t({type:"UPLOAD_POST",payload:e.data.post}),t({type:"SET_RESPONSE_MESSAGE",payload:e.data})})).catch((function(e){t({type:"SET_DATA_ERROR",payload:e.response.data})}))}}},xe=Object(w.b)((function(e){return{UI:e.UI}}),Ne)(Object(C.a)({container:{width:"600px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","background-color":"white","box-shadow":"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",transition:"0.3s",padding:"20px 0px 20px 20px","justify-content":"flex-start","&:hover":{"background-color":"#d9d9d9"}},postField:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)",width:"300px"},placeHolder:{opacity:.4},avatar:{"background-color":"rgb(0, 188, 212)","margin-right":"15px"},dialog:{width:"400px",height:"300px"},fieldContainer:{"overflow-y":"hidden"},postHeader:{display:"flex","justify-content":"space-between"},subHeader:{display:"flex","align-items":"center"}})(je)),Se=a(203),ke=a(204),Ce=a(96),we=a.n(Ce),Pe=function(){return function(e){e({type:"TOGGLE_SIDE_NAV"})}},Te=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.toggleSideNav;return r.a.createElement("div",{className:t.root},r.a.createElement(Se.a,{position:"static"},r.a.createElement(ke.a,null,r.a.createElement(Y.a,{edge:"start",className:t.menuButton,color:"inherit",onClick:a},r.a.createElement(we.a,null)),r.a.createElement(f.a,{variant:"h6",className:t.title},"News"),r.a.createElement(O.a,{color:"inherit"},"My account"))))}}]),t}(r.a.Component),_e={toggleSideNav:Pe},Ie=Object(w.b)(null,_e)(Object(C.a)((function(e){return{root:{flexGrow:1,"margin-bottom":"25px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(Te)),De=a(218),Ae=a(157),Ue=a(158),Le=a(210),Re=a(211),Me=a(205),Ge=a(206),Be=a(207),Ke=a(208),ze=a(209),He=[{name:"Home",icon:r.a.createElement(Me.a,null),link:"/"},{name:"Profile",icon:r.a.createElement(Ge.a,null),link:"/"},{name:"People",icon:r.a.createElement(Be.a,null),link:"/"},{name:"Setting",icon:r.a.createElement(Ke.a,null),link:"/"},{name:"Feedback",icon:r.a.createElement(ze.a,null),link:"/"}],We=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.sideNavOpen,n=e.toggleSideNav;return r.a.createElement(De.a,{anchor:"left",open:a,onClose:n},r.a.createElement(Ae.a,null,He.map((function(e){return r.a.createElement(Ue.a,{className:t.item,component:i.b,to:e.link,button:!0,key:e.name},r.a.createElement(Le.a,null,e.icon),r.a.createElement(Re.a,{primary:e.name}))}))))}}]),t}(r.a.Component),Fe={toggleSideNav:Pe},Je=Object(w.b)((function(e){return{sideNavOpen:e.UI.sideNavOpen}}),Fe)(Object(C.a)({item:{width:"250px"}})(We)),Ve=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ie,null),r.a.createElement(Je,null))}}]),t}(r.a.Component),qe=a(43),Ye=a.n(qe),Qe=a(55),$e=a.n(Qe),Xe=a(213),Ze=a(216),et=a(215),tt=a(214),at=a(100),nt=a.n(at),rt=a(101),ot=a.n(rt),ct=a(102),it=a.n(ct),lt=a(212),st=a(189),ut=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).toggleMenu=function(t){e.state.anchorEl?e.setState({anchorEl:null}):e.setState({anchorEl:t.currentTarget})},e.state={anchorEl:null},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{onClick:this.toggleMenu},r.a.createElement(Z.a,null)),r.a.createElement(lt.a,{open:Boolean(this.state.anchorEl),anchorEl:this.state.anchorEl},r.a.createElement(b.a,{elevation:2},r.a.createElement(st.a,{id:"simple-menu",autoFocusItem:Boolean(this.state.anchorEl)},r.a.createElement($.a,null,"Edit"),r.a.createElement($.a,null,"Delete")))))}}]),t}(r.a.Component),mt=a(50),pt=a(99);function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var gt={authenticated:!1},bt=a(40);function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ot={posts:[],post:[],errors:{},loading:!1};function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var jt={loading:!1,sideNavOpen:!1,errors:{},message:{}},Nt=[pt.a],xt=mt.a.apply(void 0,Nt),St=Object(mt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return ht({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return ht({},e,{authenticated:!1});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return ft({},e,{loading:!0});case"UPLOAD_POST":return ft({},e,{posts:[t.payload].concat(Object(bt.a)(e.posts))});case"SET_MANY_POSTS":return ft({},e,{posts:t.payload,loading:!1});case"SET_POST":return ft({},e,{post:t.payload,loading:!1});case"LIKE_POST":case"UNLIKE_POST":case"SET_COMMENT":case"ADD_COMMENT":case"DELETE_COMMENT":return ft({},e,{posts:t.payload});case"SET_DATA_ERROR":return ft({},e,{errors:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_UI":return yt({},e,{loading:!0});case"STOP_LOADING_UI":return yt({},e,{loading:!1});case"TOGGLE_SIDE_NAV":return yt({},e,{sideNavOpen:!e.sideNavOpen});case"SET_ERROR":return yt({},e,{loading:!1,errors:t.payload});case"SET_RESPONSE_MESSAGE":return yt({},e,{loading:!1,message:t.payload});default:return e}}}),kt=Object(mt.d)(St,{},xt),Ct=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.comment,a=t.author,n=t.content,o=t.createdAt,c=t._id;return r.a.createElement(Xe.a,{key:c,className:e.card},r.a.createElement(tt.a,{avatar:r.a.createElement(q.a,{className:e.avatar},a[0].toUpperCase()),title:a,subheader:Ye()(o).fromNow(),action:r.a.createElement(Y.a,null,r.a.createElement(Z.a,{className:e.moreVertIcon})),className:e.commentPadding}),r.a.createElement(et.a,{className:e.commentPadding},r.a.createElement(f.a,{variant:"body2",component:"p"},n)))}}]),t}(r.a.Component),wt={deleteComment:function(e,t){return function(a){T.a.delete("/api/post/".concat(e,"/comments"),{params:{commentId:t}}).then((function(e){}))}}},Pt=Object(w.b)(null,wt)(Object(C.a)({card:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","box-shadow":"none"},avatar:{"background-color":"rgb(0, 188, 212)",width:"30px",height:"30px","font-size":"0.95rem"},moreVertIcon:{"font-size":"1.25rem"},commentPadding:{padding:"4px 10px 4px 10px"}})(Ct)),Tt=a(154),_t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({content:e.target.value})},a.state={content:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.author,o=t.postId;return r.a.createElement("div",null,r.a.createElement("div",{className:a.header},r.a.createElement(q.a,{className:a.avatar},n[0].toUpperCase()),r.a.createElement(E.a,{className:a.commentField,margin:"dense",placeholder:"Leave a comment",multiline:!0,rows:2,rowsMax:4,onChange:this.handleChange})),r.a.createElement("div",{className:a.actions},r.a.createElement(O.a,{color:"primary",onClick:function(){return e.props.addComment(o,{content:e.state.content})}},"Post")))}}]),t}(r.a.Component),It={addComment:function(e,t){return function(a){T.a.post("/api/post/".concat(e,"/comments"),t).then((function(t){var n=kt.getState().data.posts,r=n.map((function(e){return e._id})).indexOf(e);n[r].comments.unshift(t.data.comment),n[r].commentCount+=1,a({type:"ADD_COMMENT",payload:n})}))}}},Dt=Object(w.b)(null,It)(Object(Tt.a)({header:{"border-top":"1px solid #cccccc",display:"flex","align-items":"center",padding:"8px 8px 8px 8px"},commentField:{width:"500px"},avatar:{"background-color":"rgb(0, 188, 212)",width:"30px",height:"30px","font-size":"0.95rem","margin-right":"15px"},actions:{display:"flex","justify-content":"flex-end",padding:"8px 8px 8px 8px"}})(_t)),At=function(e){return function(t){var a=kt.getState().data.posts,n=a.map((function(e){return e._id})).indexOf(e);a[n].likedByUser=!0,a[n].likeCount+=1,t({type:"LIKE_POST",payload:a}),T.a.post("/api/post/".concat(e,"/likes")).then((function(e){}))}},Ut=function(e){return function(t){var a=kt.getState().data.posts,n=a.map((function(e){return e._id})).indexOf(e);a[n].likedByUser=!1,a[n].likeCount-=1,t({type:"UNLIKE_POST",payload:a}),T.a.delete("/api/post/".concat(e,"/likes")).then((function(e){}))}},Lt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={commentLoading:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.post,o=t.likeStatus,c=t.likePost,i=t.unlikePost,l=t.comments,s=t.commentCount;return Ye.a.extend($e.a),r.a.createElement(Xe.a,{elevation:4,key:n._id,className:a.card},r.a.createElement(tt.a,{avatar:r.a.createElement(q.a,{className:a.avatar},n.author[0].toUpperCase()),title:n.author,subheader:Ye()(n.createdAt).fromNow(),action:n.authorId===JSON.parse(localStorage.user)._id?r.a.createElement(ut,null):""}),r.a.createElement(et.a,null,r.a.createElement(f.a,{variant:"body2",component:"p"},n.content)),r.a.createElement(Ze.a,{className:a.action},r.a.createElement("div",null,r.a.createElement(Y.a,{title:"Like",onClick:o?function(){return i(n._id)}:function(){return c(n._id)}},r.a.createElement(nt.a,{className:o?a.liked:""})),r.a.createElement(f.a,{variant:"caption",className:a.number},n.likeCount)),r.a.createElement("div",null,r.a.createElement(Y.a,{title:"Comment",onClick:function(){return e.props.getComments(n._id)}},r.a.createElement(ot.a,null)),r.a.createElement(f.a,{variant:"caption",className:a.number},s)),r.a.createElement(Y.a,{title:"Share"},r.a.createElement(it.a,null))),l?r.a.createElement("div",null,r.a.createElement("div",{className:a.comments},l.map((function(e){return r.a.createElement(Pt,{key:e._id,comment:e})}))),r.a.createElement(Dt,{author:n.author,postId:n._id})):"")}}]),t}(r.a.Component),Rt={likePost:At,unlikePost:Ut,getComments:function(e){return function(t){T.a.get("/api/post/".concat(e,"/comments")).then((function(a){var n=kt.getState().data.posts,r=n.map((function(e){return e._id})).indexOf(e);n[r].comments=a.data,t({type:"SET_COMMENT",payload:n})}))}}},Mt=Object(w.b)(null,Rt)(Object(C.a)({card:{width:"600px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","margin-top":"25px","margin-bottom":"25px"},avatar:{"background-color":"rgb(0, 188, 212)"},action:{display:"flex","justify-content":"space-around"},liked:{color:"rgb(0, 188, 212)"},number:{position:"relative",right:"6px"},comments:{"border-top":"1px solid #cccccc","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"}})(Lt)),Gt=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e=this.props.data,t=e.posts,a=e.loading,n=this.props,o=n.classes;n.likePost,n.unlikePost;return Ye.a.extend($e.a),r.a.createElement("div",null,r.a.createElement(Ve,null),r.a.createElement(xe,null),a?r.a.createElement(k.a,{size:100,className:o.loading}):t.map((function(e){return r.a.createElement(Mt,{key:e._id,post:e,likeStatus:e.likedByUser,comments:e.comments,commentCount:e.commentCount})})))}}]),t}(r.a.Component),Bt={getPosts:function(){return function(e){e({type:"LOADING_DATA"}),T.a.get("/api/posts",{params:{lastDate:new Date,limit:10}}).then((function(t){localStorage.userId;e({type:"SET_MANY_POSTS",payload:t.data})})).catch((function(t){e({type:"SET_DATA_ERROR",payload:t.response.data})}))}},likePost:At,unlikePost:Ut},Kt=Object(w.b)((function(e){return{data:e.data}}),Bt)(Object(C.a)({loading:{position:"relative",left:"50%","margin-top":"200px",transform:"translate(-50%, 0%)"}})(Gt)),zt=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.verify(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,c=a.message.message;return n?r.a.createElement(k.a,{size:100,className:t.progress}):o.message?r.a.createElement(b.a,{elevation:6,className:t.paper},r.a.createElement(f.a,{variant:"h5",className:t.error},"Error"),r.a.createElement(f.a,{variant:"subtitle1"},o.message)):r.a.createElement(b.a,{elevation:6,className:t.paper},r.a.createElement(f.a,{variant:"h5",className:t.success},c),r.a.createElement(f.a,{variant:"subtitle1"},"Now you can login and connect with other people"))}}]),t}(r.a.Component),Ht={verify:function(e){return function(t){t({type:"LOADING_UI"}),T.a.get("/api/verify/".concat(e)).then((function(e){t({type:"SET_RESPONSE_MESSAGE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){t({type:"SET_ERROR",payload:e.response.data})}))}}},Wt=Object(w.b)((function(e){return{UI:e.UI}}),Ht)(Object(C.a)({paper:{padding:"25px 25px 75px 25px",position:"relative",left:"50%","margin-top":"50px",transform:"translate(-50%, 0%)",display:"table"},error:{color:"red","font-weight":"bold","margin-bottom":"25px"},success:{color:"green","font-weight":"bold","margin-bottom":"25px"},progress:{position:"relative",left:"50%","margin-top":"200px",transform:"translate(-50%, 0%)"}})(zt)),Ft=Object(w.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(te.a)(e,["component","authenticated"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(l.a,{to:"/login"}):r.a.createElement(t,e)}}))})),Jt=localStorage.JWTToken;Jt&&(kt.dispatch({type:"SET_AUTHENTICATED"}),T.a.defaults.headers.common.Authorization=Jt);var Vt=function(){return r.a.createElement(w.a,{store:kt},r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/login",component:L}),r.a.createElement(l.b,{exact:!0,path:"/signup",component:z}),r.a.createElement(l.b,{exact:!0,path:"/verify/:id",component:Wt}),r.a.createElement(Ft,{exact:!0,path:"/",component:Kt}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Vt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.c3e60ac2.chunk.js.map