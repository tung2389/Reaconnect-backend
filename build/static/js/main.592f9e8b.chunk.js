(this["webpackJsonpweb-project"]=this["webpackJsonpweb-project"]||[]).push([[0],{116:function(e,t,a){e.exports=a(148)},121:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a.n(o),c=(a(76),a(54)),l=a(41),s=a(10),u=a(8),p=a(11),m=a(12),d=a(13),h=a(9),g=a(26),b=a(60),f=a(217),E=a(36),O=a(190),v=a(87),y=a.n(v),j=a(89),N=a.n(j),x=a(86),S=a.n(x),C=a(191),k=a(4),w=(a(121),a(15)),P=a(18),_=a.n(P),T=function(e){var t="Bearer ".concat(e);localStorage.setItem("JWTToken",t),_.a.defaults.headers.common.Authorization=t},I=function(e){localStorage.setItem("user",JSON.stringify(e))},D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={email:"",password:""},a.handleKeyChange=a.handleKeyChange.bind(Object(g.a)(a)),a.handleLogin=a.handleLogin.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleKeyChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"handleLogin",value:function(){var e={email:this.state.email,password:this.state.password};this.props.login(e,this.props.history)}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.UI,o=n.loading,i=n.errors;return r.a.createElement(b.a,{className:a.form,elevation:4},r.a.createElement("div",{className:"flexContainer"},r.a.createElement(S.a,{className:a.forwardIcon}),r.a.createElement("h1",{className:"login"},"Login")),r.a.createElement("div",{className:"flexContainer"},r.a.createElement(y.a,null),r.a.createElement(f.a,{onChange:this.handleKeyChange,label:"Email",name:"email",helperText:i.email,error:!!i.email,className:a.input,disabled:o})),r.a.createElement("br",null),r.a.createElement("div",{className:"flexContainer"},r.a.createElement(N.a,null),r.a.createElement(f.a,{type:"password",onChange:this.handleKeyChange,label:"Password",name:"password",helperText:i.password,error:!!i.password,className:a.input,disabled:o})),i.general?r.a.createElement(E.a,{variant:"body2",className:a.generalError},i.general):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{color:"primary",variant:"contained",className:a.button,onClick:this.handleLogin,disabled:o},o?r.a.createElement(C.a,{size:24}):"Login"),r.a.createElement("div",{className:"ask"},"Not have an account yet ?",r.a.createElement(O.a,{className:a.signup,onClick:function(){return e.props.history.push("/signup")}},"Sign up")))}}]),t}(r.a.Component),U={login:function(e,t){return function(a){a({type:"LOADING_UI"}),_.a.post("/api/login",e).then((function(e){T(e.data.jwtToken),I(e.data.user),a({type:"SET_AUTHENTICATED"}),a({type:"STOP_LOADING_UI"}),t.push("/")})).catch((function(e){a({type:"SET_ERROR",payload:e.response.data})}))}}},A=Object(w.b)((function(e){return{UI:e.UI}}),U)(Object(k.a)({input:{"margin-left":"15px",width:"300px"},forwardIcon:{"font-size":"35px"},form:{display:"table",padding:"60px 60px 0px 60px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)"},button:{width:"346px","margin-bottom":"30px"},generalError:{color:"red","margin-top":"10px"},signup:{color:"blue"}})(D)),L=(a(144),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loginPage"},r.a.createElement("img",{src:"/assets/icons/icon2.png",className:"connectIcon"}),r.a.createElement("div",{className:"name"},"WINDLIFE NETWORK"),r.a.createElement(A,{history:this.props.history}))}}]),t}(r.a.Component)),R=a(90),M=a.n(R),G=(a(145),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={email:"",username:"",password:"",confirmPassword:""},a.handleKeyChange=a.handleKeyChange.bind(Object(g.a)(a)),a.handleSignup=a.handleSignup.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleKeyChange",value:function(e){this.setState(Object(h.a)({},e.target.name,e.target.value))}},{key:"handleSignup",value:function(){var e={email:this.state.email,username:this.state.username,password:this.state.password,confirmPassword:this.state.confirmPassword};this.props.signup(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,i=a.message.message;return r.a.createElement(b.a,{className:t.form,elevation:6},r.a.createElement("div",{className:"flexContainer"},r.a.createElement(M.a,{className:t.personAddIcon}),r.a.createElement("h1",{className:"signup"},"Signup")),r.a.createElement(f.a,{onChange:this.handleKeyChange,label:"Email",name:"email",helperText:o.email,error:!!o.email,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(f.a,{onChange:this.handleKeyChange,label:"Username",name:"username",helperText:o.username,error:!!o.username,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(f.a,{type:"password",onChange:this.handleKeyChange,label:"Password",name:"password",helperText:o.password,error:!!o.password,className:t.input,disabled:n}),r.a.createElement("br",null),r.a.createElement(f.a,{type:"password",onChange:this.handleKeyChange,label:"Repeat your password",name:"confirmPassword",helperText:o.confirmPassword,error:!!o.confirmPassword,className:t.input,disabled:n}),i?r.a.createElement(E.a,{variant:"body2",className:t.message},i):"",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{variant:"contained",className:t.button,onClick:this.handleSignup,disabled:n},n?r.a.createElement(C.a,{size:24}):"Sign up"))}}]),t}(r.a.Component)),B={signup:function(e){return function(t){t({type:"LOADING_UI"}),_.a.post("/api/signup",e).then((function(e){t({type:"SET_RESPONSE_MESSAGE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){t({type:"SET_ERROR",payload:e.response.data})}))}}},K=Object(w.b)((function(e){return{UI:e.UI}}),B)(Object(k.a)({input:{width:"300px","margin-top":"15px"},personAddIcon:{"font-size":"35px"},button:{width:"346px",color:"white","background-color":"lightskyblue","margin-bottom":"30px","&:hover":{"background-color":"royalblue"}},form:{display:"table",padding:"30px"},message:{color:"green","margin-top":"10px"}})(G)),z=(a(146),function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"signupPage"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"description"},"Consectetur Lorem eiusmod nulla eu ea exercitation. Incididunt exercitation amet pariatur cupidatat ut. Eu excepteur cupidatat do aliquip. Et excepteur eu tempor sint veniam incididunt cillum adipisicing sunt duis ut. Dolore commodo dolor reprehenderit Lorem dolor dolor elit. Amet aute elit aliquip anim. Veniam dolore in dolor anim velit labore. Excepteur aute esse dolore enim enim pariatur officia non eu magna dolore mollit dolore. Labore id pariatur sit velit cillum nisi non do enim duis laborum. Tempor in sunt commodo in elit consectetur non nulla culpa aute. Qui laborum veniam elit qui incididunt id. Labore ea minim irure laborum eiusmod aute voluptate proident proident do. Eu voluptate adipisicing proident magna minim nisi laborum eiusmod minim duis elit cupidatat ullamco. Consectetur ullamco cupidatat nisi occaecat incididunt eu ea pariatur non mollit cillum ea. Sunt est sunt quis aliqua ea velit adipisicing aliqua. Occaecat ipsum fugiat fugiat velit non adipisicing magna cillum veniam ullamco."),r.a.createElement(K,null)))}}]),t}(r.a.Component)),H=a(69),W=a(200),F=a(2),J=a(3),V=a(91),q=a.n(V),Y=a(93),Q=a.n(Y),$=a(94),X=a.n($),Z=a(95),ee=a.n(Z),te=a(193),ae=a(194),ne=a(196),re=a(218),oe=a(195),ie=a(92),ce=a.n(ie),le=a(192),se={success:q.a,warning:ce.a,error:Q.a,info:X.a},ue=Object(le.a)((function(e){return{success:{backgroundColor:te.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:ae.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function pe(e){var t=ue(),a=e.className,n=e.message,o=e.onClose,i=e.variant,c=Object(F.a)(e,["className","message","onClose","variant"]),l=se[i];return r.a.createElement(oe.a,Object.assign({className:Object(J.a)(t[i],a),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(l,{className:Object(J.a)(t.icon,t.iconVariant)}),n),action:[r.a.createElement(ne.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},r.a.createElement(ee.a,{className:t.icon}))]},c))}function me(e){var t=e.open,a=e.handleClose;return r.a.createElement(re.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:a},e.message?r.a.createElement(pe,{onClose:a,variant:"success",message:e.message}):r.a.createElement(pe,{onClose:a,variant:"error",message:e.errors.message}))}var de=a(198),he=a(199),ge=a(201),be=a(202),fe=a(103),Ee=a(197),Oe=a(48),ve=a.n(Oe),ye=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).openMenu=function(t){e.setState({anchorEl:t.currentTarget})},e.closeMenu=function(t){e.setState({anchorEl:null})},e.state={anchorEl:null},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne.a,{onClick:this.openMenu},r.a.createElement(ve.a,null)),r.a.createElement(fe.a,{id:"simple-menu",anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.closeMenu},r.a.createElement(Ee.a,null,"Disable comments"),r.a.createElement(Ee.a,null,"Disable sharing")))}}]),t}(r.a.Component),je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({postContent:e.target.value})},a.state={postContent:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.loading,o=t.open,i=t.closeDialog,c=t.handleUpload,l=t.mode;return r.a.createElement(de.a,{open:o,onClose:i},r.a.createElement("div",{className:a.dialog},r.a.createElement(he.a,{id:"form-dialog-title"},r.a.createElement("div",{className:a.postHeader},r.a.createElement("div",{className:a.subHeader},r.a.createElement(W.a,{className:a.avatar},JSON.parse(localStorage.user).username[0].toUpperCase()),r.a.createElement("span",null,JSON.parse(localStorage.user).username)),r.a.createElement(ye,null))),r.a.createElement(ge.a,{className:a.fieldContainer},r.a.createElement(f.a,{autoFocus:!0,className:a.postField,margin:"dense",placeholder:"What are you thinking",multiline:!0,rows:2,rowsMax:4,onChange:this.handleChange})),r.a.createElement(be.a,null,r.a.createElement(O.a,{onClick:i,color:"primary",disabled:n},"Cancel"),r.a.createElement(O.a,{onClick:function(){return c(e.state.postContent)},color:"primary",disabled:n},n?r.a.createElement(C.a,{size:24}):l))))}}]),t}(r.a.Component),Ne=Object(k.a)({postField:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)",width:"300px"},avatar:{"background-color":"rgb(0, 188, 212)","margin-right":"15px"},dialog:{width:"400px",height:"300px"},fieldContainer:{"overflow-y":"hidden"},postHeader:{display:"flex","justify-content":"space-between"},subHeader:{display:"flex","align-items":"center"}})(je),xe=a(50),Se=a(96);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var we={authenticated:!1},Pe=a(40);function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie={posts:[],post:[],errors:{},loading:!1};function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ae={loading:!1,sideNavOpen:!1,errors:{},message:{}},Le=[Se.a],Re=xe.a.apply(void 0,Le),Me=Object(xe.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return ke({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return ke({},e,{authenticated:!1});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Te({},e,{loading:!0});case"UPLOAD_POST":return Te({},e,{posts:[t.payload].concat(Object(Pe.a)(e.posts))});case"SET_MANY_POSTS":return Te({},e,{posts:t.payload,loading:!1});case"SET_POST":return Te({},e,{post:t.payload,loading:!1});case"LIKE_POST":case"UNLIKE_POST":case"SET_COMMENT":case"ADD_COMMENT":case"DELETE_COMMENT":return Te({},e,{posts:t.payload});case"SET_DATA_ERROR":return Te({},e,{errors:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_UI":return Ue({},e,{loading:!0});case"STOP_LOADING_UI":return Ue({},e,{loading:!1});case"TOGGLE_SIDE_NAV":return Ue({},e,{sideNavOpen:!e.sideNavOpen});case"SET_ERROR":return Ue({},e,{loading:!1,errors:t.payload});case"SET_RESPONSE_MESSAGE":return Ue({},e,{loading:!1,message:t.payload});default:return e}}}),Ge=Object(xe.d)(Me,{},Re),Be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).openDialog=function(){a.setState({open:!0})},a.closeDialog=function(){a.setState({open:!1})},a.closeSnackBar=function(){a.setState({snackBarOpen:!1})},a.handleUpload=function(e){var t={content:e};a.props.uploadPost(t)},a.state={open:!1,snackBarOpen:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){!1===e.UI.loading&&!0===this.props.UI.loading&&(this.closeDialog(),this.setState({snackBarOpen:!0}))}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,i=a.message.message;return r.a.createElement("div",null,r.a.createElement(H.a,{className:t.container,onClick:this.openDialog},r.a.createElement(W.a,{className:t.avatar},"R"),r.a.createElement(E.a,{className:t.placeHolder},"What are you thinking")),r.a.createElement(Ne,{loading:n,open:this.state.open,closeDialog:this.closeDialog,handleUpload:this.handleUpload,mode:"Post"}),r.a.createElement(me,{errors:o,message:i,open:this.state.snackBarOpen,handleClose:this.closeSnackBar}))}}]),t}(r.a.Component),Ke={uploadPost:function(e){return function(t){t({type:"LOADING_UI"}),_.a.post("/api/newpost",e).then((function(e){t({type:"UPLOAD_POST",payload:e.data.post}),t({type:"SET_RESPONSE_MESSAGE",payload:e.data})})).catch((function(e){t({type:"SET_DATA_ERROR",payload:e.response.data})}))}}},ze=Object(w.b)((function(e){return{UI:e.UI}}),Ke)(Object(k.a)({container:{width:"600px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","background-color":"white","box-shadow":"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)",transition:"0.3s",padding:"20px 0px 20px 20px","justify-content":"flex-start","&:hover":{"background-color":"#d9d9d9"}},avatar:{"background-color":"rgb(0, 188, 212)","margin-right":"15px"},placeHolder:{opacity:.4}})(Be)),He=a(203),We=a(204),Fe=a(97),Je=a.n(Fe),Ve=function(){return function(e){e({type:"TOGGLE_SIDE_NAV"})}},qe=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.toggleSideNav;return r.a.createElement("div",{className:t.root},r.a.createElement(He.a,{position:"static"},r.a.createElement(We.a,null,r.a.createElement(ne.a,{edge:"start",className:t.menuButton,color:"inherit",onClick:a},r.a.createElement(Je.a,null)),r.a.createElement(E.a,{variant:"h6",className:t.title},"News"),r.a.createElement(O.a,{color:"inherit"},"My account"))))}}]),t}(r.a.Component),Ye={toggleSideNav:Ve},Qe=Object(w.b)(null,Ye)(Object(k.a)((function(e){return{root:{flexGrow:1,"margin-bottom":"25px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}))(qe)),$e=a(219),Xe=a(152),Ze=a(153),et=a(210),tt=a(211),at=a(205),nt=a(206),rt=a(207),ot=a(208),it=a(209),ct=[{name:"Home",icon:r.a.createElement(at.a,null),link:"/"},{name:"Profile",icon:r.a.createElement(nt.a,null),link:"/"},{name:"People",icon:r.a.createElement(rt.a,null),link:"/"},{name:"Setting",icon:r.a.createElement(ot.a,null),link:"/"},{name:"Feedback",icon:r.a.createElement(it.a,null),link:"/"}],lt=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.sideNavOpen,n=e.toggleSideNav;return r.a.createElement($e.a,{anchor:"left",open:a,onClose:n},r.a.createElement(Xe.a,null,ct.map((function(e){return r.a.createElement(Ze.a,{className:t.item,component:c.b,to:e.link,button:!0,key:e.name},r.a.createElement(et.a,null,e.icon),r.a.createElement(tt.a,{primary:e.name}))}))))}}]),t}(r.a.Component),st={toggleSideNav:Ve},ut=Object(w.b)((function(e){return{sideNavOpen:e.UI.sideNavOpen}}),st)(Object(k.a)({item:{width:"250px"}})(lt)),pt=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Qe,null),r.a.createElement(ut,null))}}]),t}(r.a.Component),mt=a(43),dt=a.n(mt),ht=a(55),gt=a.n(ht),bt=a(213),ft=a(214),Et=a(215),Ot=a(216),vt=a(100),yt=a.n(vt),jt=a(101),Nt=a.n(jt),xt=a(102),St=a.n(xt),Ct=a(212),kt=a(189),wt=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).toggleMenu=function(t){e.state.anchorEl?e.setState({anchorEl:null}):e.setState({anchorEl:t.currentTarget})},e.state={anchorEl:null},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.optionsList;return r.a.createElement("div",null,r.a.createElement(ne.a,{onClick:this.toggleMenu},r.a.createElement(ve.a,null)),r.a.createElement(Ct.a,{open:Boolean(this.state.anchorEl),anchorEl:this.state.anchorEl},r.a.createElement(b.a,{elevation:2},r.a.createElement(kt.a,{id:"simple-menu",autoFocusItem:Boolean(this.state.anchorEl)},e.map((function(e){return r.a.createElement(Ee.a,{onClick:e.action},e.text)}))))))}}]),t}(r.a.Component),Pt=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.comment,a=t.author,n=t.content,o=t.createdAt,i=t._id;return r.a.createElement(bt.a,{key:i,className:e.card},r.a.createElement(ft.a,{avatar:r.a.createElement(W.a,{className:e.avatar},a[0].toUpperCase()),title:a,subheader:dt()(o).fromNow(),action:r.a.createElement(ne.a,null,r.a.createElement(ve.a,{className:e.moreVertIcon})),className:e.commentPadding}),r.a.createElement(Et.a,{className:e.commentPadding},r.a.createElement(E.a,{variant:"body2",component:"p"},n)))}}]),t}(r.a.Component),_t={deleteComment:function(e,t){return function(a){_.a.delete("/api/post/".concat(e,"/comments"),{params:{commentId:t}}).then((function(e){}))}}},Tt=Object(w.b)(null,_t)(Object(k.a)({card:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","box-shadow":"none"},avatar:{"background-color":"rgb(0, 188, 212)",width:"30px",height:"30px","font-size":"0.95rem"},moreVertIcon:{"font-size":"1.25rem"},commentPadding:{padding:"4px 10px 4px 10px"}})(Pt)),It=a(149),Dt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({content:e.target.value})},a.state={content:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.author,o=t.postId;return r.a.createElement("div",null,r.a.createElement("div",{className:a.header},r.a.createElement(W.a,{className:a.avatar},n[0].toUpperCase()),r.a.createElement(f.a,{className:a.commentField,margin:"dense",placeholder:"Leave a comment",multiline:!0,rows:2,rowsMax:4,onChange:this.handleChange})),r.a.createElement("div",{className:a.actions},r.a.createElement(O.a,{color:"primary",onClick:function(){return e.props.addComment(o,{content:e.state.content})}},"Post")))}}]),t}(r.a.Component),Ut={addComment:function(e,t){return function(a){_.a.post("/api/post/".concat(e,"/comments"),t).then((function(t){var n=Ge.getState().data.posts,r=n.map((function(e){return e._id})).indexOf(e);n[r].comments.unshift(t.data.comment),n[r].commentCount+=1,a({type:"ADD_COMMENT",payload:n})}))}}},At=Object(w.b)(null,Ut)(Object(It.a)({header:{"border-top":"1px solid #cccccc",display:"flex","align-items":"center",padding:"8px 8px 8px 8px"},commentField:{width:"500px"},avatar:{"background-color":"rgb(0, 188, 212)",width:"30px",height:"30px","font-size":"0.95rem","margin-right":"15px"},actions:{display:"flex","justify-content":"flex-end",padding:"8px 8px 8px 8px"}})(Dt)),Lt=function(e){return function(t){var a=Ge.getState().data.posts,n=a.map((function(e){return e._id})).indexOf(e);a[n].likedByUser=!0,a[n].likeCount+=1,t({type:"LIKE_POST",payload:a}),_.a.post("/api/post/".concat(e,"/likes")).then((function(e){}))}},Rt=function(e){return function(t){var a=Ge.getState().data.posts,n=a.map((function(e){return e._id})).indexOf(e);a[n].likedByUser=!1,a[n].likeCount-=1,t({type:"UNLIKE_POST",payload:a}),_.a.delete("/api/post/".concat(e,"/likes")).then((function(e){}))}},Mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleComments=function(e){a.setState({commentLoading:!0}),a.props.getComments(e,(function(){a.setState({commentLoading:!1})}))},a.openPostEditor=function(){a.setState({openPostEditor:!0})},a.closePostEditor=function(){a.setState({openPostEditor:!1})},a.handleUpdate=function(e){var t={content:e};a.props.editPost(a.props.post._id,t,(function(){a.closePostEditor()}))},a.state={commentLoading:!1,openPostEditor:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.UIloading,o=t.post,i=t.likeStatus,c=t.likePost,l=t.unlikePost,s=t.comments,u=t.commentCount,p=[{text:"Edit post",action:this.openPostEditor},{text:"Delete post",action:function(){}},{text:"Disable share",action:function(){}},{text:"Disable comment",action:function(){}}];return dt.a.extend(gt.a),r.a.createElement(bt.a,{elevation:4,key:o._id,className:a.card},r.a.createElement(ft.a,{avatar:r.a.createElement(W.a,{className:a.avatar},o.author[0].toUpperCase()),title:o.author,subheader:dt()(o.createdAt).fromNow(),action:o.authorId===JSON.parse(localStorage.user)._id?r.a.createElement(wt,{optionsList:p}):""}),r.a.createElement(Et.a,null,r.a.createElement(E.a,{variant:"body2",component:"p"},o.content)),r.a.createElement(Ot.a,{className:a.action},r.a.createElement("div",null,r.a.createElement(ne.a,{title:"Like",onClick:i?function(){return l(o._id)}:function(){return c(o._id)}},r.a.createElement(yt.a,{className:i?a.liked:""})),r.a.createElement(E.a,{variant:"caption",className:a.number},o.likeCount)),r.a.createElement("div",null,r.a.createElement(ne.a,{title:"Comment",onClick:function(){return e.handleComments(o._id)}},r.a.createElement(Nt.a,null)),r.a.createElement(E.a,{variant:"caption",className:a.number},u)),r.a.createElement(ne.a,{title:"Share"},r.a.createElement(St.a,null))),s?r.a.createElement("div",null,r.a.createElement("div",{className:a.comments},s.map((function(e){return r.a.createElement(Tt,{key:e._id,comment:e})}))),r.a.createElement(At,{author:o.author,postId:o._id})):this.state.commentLoading?r.a.createElement(C.a,{size:34,className:a.loading}):"",r.a.createElement(Ne,{loading:n,open:this.state.openPostEditor,closeDialog:this.closePostEditor,handleUpload:this.handleUpdate,mode:"Update"}))}}]),t}(r.a.Component),Gt={likePost:Lt,unlikePost:Rt,getComments:function(e,t){return function(a){_.a.get("/api/post/".concat(e,"/comments")).then((function(n){var r=Ge.getState().data.posts,o=r.map((function(e){return e._id})).indexOf(e);r[o].comments=n.data,a({type:"SET_COMMENT",payload:r}),t()}))}},editPost:function(e,t,a){return function(n){n({type:"LOADING_UI"}),_.a.put("/api/post/".concat(e),t).then((function(t){var r=Ge.getState().data.posts,o=r.map((function(e){return e._id})).indexOf(e);r[o]=t.data.post,n({type:"SET_MANY_POSTS",payload:r}),n({type:"STOP_LOADING_UI"}),a()}))}}},Bt=Object(w.b)((function(e){return{UIloading:e.UI.loading}}),Gt)(Object(k.a)({card:{width:"600px",position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)","margin-top":"25px","margin-bottom":"25px"},avatar:{"background-color":"rgb(0, 188, 212)"},action:{display:"flex","justify-content":"space-around"},liked:{color:"rgb(0, 188, 212)"},number:{position:"relative",right:"6px"},comments:{"border-top":"1px solid #cccccc","max-height":"500px","overflow-y":"auto","overflow-x":"hidden"},loading:{position:"relative",left:"50%",top:"50%",transform:"translate(-50%, 0%)"}})(Mt)),Kt=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e=this.props.data,t=e.posts,a=e.loading,n=this.props,o=n.classes;n.likePost,n.unlikePost;return dt.a.extend(gt.a),r.a.createElement("div",null,r.a.createElement(pt,null),r.a.createElement(ze,null),a?r.a.createElement(C.a,{size:100,className:o.loading}):t.map((function(e){return r.a.createElement(Bt,{key:e._id,post:e,likeStatus:e.likedByUser,comments:e.comments,commentCount:e.commentCount})})))}}]),t}(r.a.Component),zt={getPosts:function(){return function(e){e({type:"LOADING_DATA"}),_.a.get("/api/posts",{params:{lastDate:new Date,limit:10}}).then((function(t){localStorage.userId;e({type:"SET_MANY_POSTS",payload:t.data})})).catch((function(t){e({type:"SET_DATA_ERROR",payload:t.response.data})}))}},likePost:Lt,unlikePost:Rt},Ht=Object(w.b)((function(e){return{data:e.data}}),zt)(Object(k.a)({loading:{position:"relative",left:"50%","margin-top":"200px",transform:"translate(-50%, 0%)"}})(Kt)),Wt=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.verify(e)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI,n=a.loading,o=a.errors,i=a.message.message;return n?r.a.createElement(C.a,{size:100,className:t.progress}):o.message?r.a.createElement(b.a,{elevation:6,className:t.paper},r.a.createElement(E.a,{variant:"h5",className:t.error},"Error"),r.a.createElement(E.a,{variant:"subtitle1"},o.message)):r.a.createElement(b.a,{elevation:6,className:t.paper},r.a.createElement(E.a,{variant:"h5",className:t.success},i),r.a.createElement(E.a,{variant:"subtitle1"},"Now you can login and connect with other people"))}}]),t}(r.a.Component),Ft={verify:function(e){return function(t){t({type:"LOADING_UI"}),_.a.get("/api/verify/".concat(e)).then((function(e){t({type:"SET_RESPONSE_MESSAGE",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(e){t({type:"SET_ERROR",payload:e.response.data})}))}}},Jt=Object(w.b)((function(e){return{UI:e.UI}}),Ft)(Object(k.a)({paper:{padding:"25px 25px 75px 25px",position:"relative",left:"50%","margin-top":"50px",transform:"translate(-50%, 0%)",display:"table"},error:{color:"red","font-weight":"bold","margin-bottom":"25px"},success:{color:"green","font-weight":"bold","margin-bottom":"25px"},progress:{position:"relative",left:"50%","margin-top":"200px",transform:"translate(-50%, 0%)"}})(Wt)),Vt=Object(w.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(F.a)(e,["component","authenticated"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return!1===a?r.a.createElement(l.a,{to:"/login"}):r.a.createElement(t,e)}}))})),qt=localStorage.JWTToken;qt&&(Ge.dispatch({type:"SET_AUTHENTICATED"}),_.a.defaults.headers.common.Authorization=qt);var Yt=function(){return r.a.createElement(w.a,{store:Ge},r.a.createElement(c.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/login",component:L}),r.a.createElement(l.b,{exact:!0,path:"/signup",component:z}),r.a.createElement(l.b,{exact:!0,path:"/verify/:id",component:Jt}),r.a.createElement(Vt,{exact:!0,path:"/",component:Ht}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Yt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},76:function(e,t,a){}},[[116,1,2]]]);
//# sourceMappingURL=main.592f9e8b.chunk.js.map